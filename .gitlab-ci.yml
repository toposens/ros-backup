image: registry.gitlab.com/toposens/public/ts-ros:latest

cache:
  paths:
    - ccache/
    
variables:
  CCACHE_DIR: ${CI_PROJECT_DIR}/ccache
  TEST: "HEY GEY"

before_script:
    - echo ${TEST}
    - echo ${CCACHE_DIR}
    - source gitlab-ros.bash

lint:
  stage: build
  script:
    - catkin_lint -W3 .

make:
  stage: build
  script:
    - catkin_make_isolated

test:
  stage: test
  script:
    - catkin_make run_tests
    - catkin_test_results
